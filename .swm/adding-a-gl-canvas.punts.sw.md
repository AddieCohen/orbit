---
id: punts
name: Adding a Gl Canvas
file_version: 1.0.2
app_version: 0.9.4-6
file_blobs:
  src/OrbitGl/App.cpp: 9a4e64dcb4e429ccdedefd834ef0c26452c65715
  src/OrbitGl/IntrospectionWindow.h: da91f0540973019bb16c7394606274aaf4064fb1
  src/OrbitGl/GlCanvas.h: d35d7353420d64eaee67f61715638b2bf4d461cc
  src/OrbitGl/CaptureWindow.h: 032456f25a18da183040ac0c7f5edf39f473dc07
  src/OrbitGl/CaptureWindowTest.cpp: 52c502b76b463bae5a17cd13a812b9f550626160
---

Understanding Gl Canvas, how they work, and how to add new ones, is important - and this document will describe just that.

A Gl Canvas is {Explain what a Gl Canvas is and its role in the system}

Some examples of `GlCanvas`[<sup id="ZpWtdo">â†“</sup>](#f-ZpWtdo)s are `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL), `NavigationTestCaptureWindow`[<sup id="1ohn8W">â†“</sup>](#f-1ohn8W), and `UnitTestCaptureWindow`[<sup id="1oOzi9">â†“</sup>](#f-1oOzi9). Note: some of these examples inherit indirectly from `GlCanvas`[<sup id="ZpWtdo">â†“</sup>](#f-ZpWtdo).

> **NOTE: Inherit from** `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv)
> 
> Most `GlCanvas`[<sup id="ZpWtdo">â†“</sup>](#f-ZpWtdo)s inherit directly from `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv) and almost none inherit directly from `GlCanvas`[<sup id="ZpWtdo">â†“</sup>](#f-ZpWtdo). In this document we demonstrate inheriting from `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv).

## TL;DR - How to Add a `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv)

1.  Create a new class inheriting from `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv)Â 
    
    *   Place the file under `ðŸ“„ src/OrbitGl`, e.g. `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL) is defined in `ðŸ“„ src/OrbitGl/IntrospectionWindow.h`.
        
2.  **Profit** ðŸ’°
    

## Example Walkthrough - `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL)

We'll follow the implementation of `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL) for this example.

An `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL) is {Explain what IntrospectionWindow is and how it works with the Gl Canvas interface}

<br/>

### `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL) Usage Example

For example, this is how `IntrospectionWindow`[<sup id="ZyakGL">â†“</sup>](#f-ZyakGL) can be used:
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/OrbitGl/App.cpp
```c++
â¬œ 1019     debug_canvas_->AddRenderCallback([this]() { RenderImGuiDebugUI(); });
â¬œ 1020   }
â¬œ 1021   
ðŸŸ© 1022   void OrbitApp::SetIntrospectionWindow(IntrospectionWindow* introspection_window) {
â¬œ 1023     ORBIT_CHECK(introspection_window_ == nullptr);
â¬œ 1024     introspection_window_ = introspection_window;
â¬œ 1025   }
```

<br/>

## Steps to Adding a new `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv)

### 1\. Inherit from `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv).

All `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv)s are defined in files under `ðŸ“„ src/OrbitGl`.

<br/>

We first need to define our class in the relevant file, and inherit from `CaptureWindow`[<sup id="Z1hIryv">â†“</sup>](#f-Z1hIryv):
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/OrbitGl/IntrospectionWindow.h
```c
â¬œ 16     
â¬œ 17     class OrbitApp;
â¬œ 18     
ðŸŸ© 19     class IntrospectionWindow : public CaptureWindow {
â¬œ 20      public:
â¬œ 21       explicit IntrospectionWindow(OrbitApp* app);
â¬œ 22       ~IntrospectionWindow() override;
```

<br/>

> **Note**: the class name should end with "Window".

<br/>

<!-- THIS IS AN AUTOGENERATED SECTION. DO NOT EDIT THIS SECTION DIRECTLY -->
### Swimm Note

<span id="f-Z1hIryv">CaptureWindow</span>[^](#Z1hIryv) - "src/OrbitGl/CaptureWindow.h" L27
```c
class CaptureWindow : public GlCanvas {
```

<span id="f-ZpWtdo">GlCanvas</span>[^](#ZpWtdo) - "src/OrbitGl/GlCanvas.h" L33
```c
class GlCanvas : public orbit_gl::AccessibleInterfaceProvider {
```

<span id="f-ZyakGL">IntrospectionWindow</span>[^](#ZyakGL) - "src/OrbitGl/IntrospectionWindow.h" L19
```c
class IntrospectionWindow : public CaptureWindow {
```

<span id="f-1ohn8W">NavigationTestCaptureWindow</span>[^](#1ohn8W) - "src/OrbitGl/CaptureWindowTest.cpp" L106
```c++
class NavigationTestCaptureWindow : public CaptureWindow, public testing::Test {
```

<span id="f-1oOzi9">UnitTestCaptureWindow</span>[^](#1oOzi9) - "src/OrbitGl/CaptureWindowTest.cpp" L16
```c++
class UnitTestCaptureWindow : public CaptureWindow, public testing::Test {
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](http://localhost:5000/repos/Z2l0aHViJTNBJTNBb3JiaXQlM0ElM0FBZGRpZUNvaGVu/docs/punts).